{"remainingRequest":"/Users/darfine/Sites/vue2/CG/invapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/darfine/Sites/vue2/CG/invapp/src/components/Homepage.vue?vue&type=style&index=0&id=e6b76dc4&scoped=true&lang=css&","dependencies":[{"path":"/Users/darfine/Sites/vue2/CG/invapp/src/components/Homepage.vue","mtime":1654433008606},{"path":"/Users/darfine/Sites/vue2/CG/invapp/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/darfine/Sites/vue2/CG/invapp/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/darfine/Sites/vue2/CG/invapp/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/darfine/Sites/vue2/CG/invapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/darfine/Sites/vue2/CG/invapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5pbnZUYmwgdHIsIHRye2JvcmRlcjoxcHggc29saWQgIzY2Njt9Cg=="},{"version":3,"sources":["Homepage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA","file":"Homepage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container>\n    Hello\n    <v-btn @click=\"getInv()\">GO</v-btn>\n    <table class=\"invTbl\">\n    <tr v-for=\"item in invResponse\" :key=\"item\">\n      <td>{{item.partID}} </td><td> {{item.quantityAvailable}}</td>\n    </tr>\n    </table>\n    <p>{{invResponse}}</p>\n\n  </v-container>\n</template>\n\n<script>\nimport axios from 'axios';\nimport xml2js from 'xml2js';\nexport default {\n  data() {\n    return {\n      vendorEndpoint: 'https://api.primeline.com',\n      invResponse: '',\n      data: '<?xml version=\"1.0\" encoding=\"utf-8\"?>\\n<soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" >\\n    \\n    <soap:Body>\\n   <Request xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://www.promostandards.org/WSDL/InventoryService/1.0.0/\">\\n  <wsVersion>1.2.1</wsVersion>\\n  <id>denar@corporategift.com</id>\\n  <password>P9HghK5S</password>\\n  <productID>BG100</productID>\\n  <productIDtype>Supplier</productIDtype>\\n</Request>\\n    </soap:Body>\\n</soap:Envelope>'\n\n    };\n  },\n  methods: {\n    getInv() {\n      process.env.TARGET = this.vendorEndpoint\n      var config = {\n        method: 'post',\n        url: 'soap/InventoryService.svc',\n        headers: { \n          'Content-Type': 'text/xml'\n        },\n        data : this.data\n      };\n      \n\n      axios(config).then(response => {\n        //console.log(JSON.stringify(response.data))\n        // this.invResponse = JSON.stringify(response.data)\n        var xml = response.data\n        // convert XML to JSON\n        var options = {explicitArray: false, tagNameProcessors: [xml2js.processors.stripPrefix] };\n        xml2js.parseString(xml, options,(err, result) => {\n            if(err) {\n                throw err;\n            }\n\n            // `result` is a JavaScript object\n            // convert it to a JSON string\n            const json = JSON.stringify(result, null, 4);\n            // Get the soap body object\n            var soapBody=result.Envelope.Body.Reply;\n            var productId = soapBody.productID;\n            var itemArray = soapBody.ProductVariationInventoryArray.ProductVariationInventory\n            this.invResponse = itemArray\n            // log JSON string\n            //console.log(json);\n            //var invData = this.invResponse[0] //.Body[0]; //['ns1:ProductVariationInventoryArray'][0]['ns1:ProductVariationInventory']\n            \n           // console.log('invData', invData)\n        });\n\n      }\n      \n      )}\n  },\n};\n</script>\n\n<style scoped>\n  .invTbl tr, tr{border:1px solid #666;}\n</style>\n"]}]}