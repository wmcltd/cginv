{"remainingRequest":"/Users/darfine/Sites/vue2/CG/invapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/darfine/Sites/vue2/CG/invapp/src/components/Homepage.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/darfine/Sites/vue2/CG/invapp/src/components/Homepage.vue","mtime":1654867488912},{"path":"/Users/darfine/Sites/vue2/CG/invapp/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/darfine/Sites/vue2/CG/invapp/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/darfine/Sites/vue2/CG/invapp/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/darfine/Sites/vue2/CG/invapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/darfine/Sites/vue2/CG/invapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5pbnZUYmwgdHIsIHRye2JvcmRlcjoxcHggc29saWQgIzY2NjsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTt9Cg=="},{"version":3,"sources":["Homepage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+NA","file":"Homepage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container>\n    <v-overlay :value=\"overlay\">\n      <v-row>\n        <v-progress-circular :size='100' indeterminate></v-progress-circular>\n      </v-row>\n      <v-row>\n       <v-btn @click=\"overlay=!overlay\">Cancel</v-btn>\n      </v-row>\n    </v-overlay>\n    <v-row>\n      <v-col>\n     <v-select\n          :items=\"supplierData\"\n          item-text=\"supplierId\"\n          item-value=\"supplierId\"\n          label=\"Select Supplier\"\n          v-model=\"supplier\"\n        ></v-select>\n      </v-col>\n      <v-col>  \n    <v-text-field label=\"Enter Item Id\" v-model=productID clearable />\n    <v-btn small color='primary' :disabled=\"disabled\" @click=\"getInv()\">Search Inventory</v-btn>\n      </v-col>\n    </v-row>\n    <!-- <v-btn @click=\"getData('D100')\">data</v-btn> -->\n    \n    <v-row>\n      <span style=\"color:blue; font-weight:300;\">{{productID}} |</span><span style=\"margin-left:7px;font-weight:300;\">{{partDesc}}</span>\n    </v-row>\n    <v-row>\n      <v-col>\n        <span style=\"font-size:.8rem; font-weight:200;\">Click on column names to sort</span>\n      </v-col>\n      <v-col cols=12>\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"items\"\n        class=\"elevation-1\"\n        hide-default-footer\n        disable-pagination\n      >\n      </v-data-table>\n      </v-col>\n    </v-row>\n   \n\n  </v-container>\n</template>\n\n<script>\nimport axios from 'axios';\nimport xml2js from 'xml2js';\nexport default {\n  data() {\n    return {\n     // disabled: true,\n      overlay: false,\n      supplier: '',\n      supplierData: [\n        { \n          supplierId: 'Primeline',\n          endpoint: 'https://api.primeline.com/soap/InventoryService.svc',\n          version: '1.2.1',\n          username: 'denar@corporategift.com',\n          pwd: 'P9HghK5S'\n        },\n        {\n          supplierId: 'Alphabroder',\n          endpoint: 'https://services.alphabroder.com/inventory/InventoryService.svc',\n          version: '1.2.1',\n          username: 'ps3369205',\n          pwd: 'vhSIpiY2'\n        },\n        {\n          supplierId: 'PCNA',\n          endpoint: 'https://psinventory121.pcna.online/psInventory.svc',\n          version: '1.2.1',\n          username: 'CORPORATEGIFT',\n          pwd: 'U+%b[tk8(f@ilT;z7P[|5vqD?[6TjQ*@ugLulgpW{$N*8mhI9bgqlSF@GDr7|Ma'\n        },\n        {\n          supplierId: 'Gemline',\n          endpoint: 'https://wsp.gemline.com/GemlineWebService/Inventory/v1/GemlineInventoryService.svc',\n          version: '1.2.1',\n          username: '1017565',\n          pwd: '01fdc894-9cd4-42d5-a5ab-2388bc614252'\n        }\n      ],\n      productID: '',\n      //vendorEndpoint: 'https://api.primeline.com',\n      invResponse: '',\n      partDesc: '',\n      //data: '<?xml version=\"1.0\" encoding=\"utf-8\"?>\\n<soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" >\\n    \\n    <soap:Body>\\n   <Request xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://www.promostandards.org/WSDL/InventoryService/1.0.0/\">\\n  <wsVersion>1.2.1</wsVersion>\\n  <id>denar@corporategift.com</id>\\n  <password>P9HghK5S</password>\\n  <productID>BG100</productID>\\n  <productIDtype>Supplier</productIDtype>\\n</Request>\\n    </soap:Body>\\n</soap:Envelope>',\n      sku: '',\n      headers:[\n        {\n            text: 'Part ID',\n            align: 'start',\n            sortable: true,\n            value: 'partID',\n          },\n        {\n          text: 'Color',\n          value: 'attributeColor'\n        },\n        {\n          text: 'Size',\n          value: 'attributeSize'\n        },\n         {\n            text: 'Quantity Available',\n            align: 'start',\n            sortable: true,\n            value: 'quantityAvailable',\n          }, \n      ],\n      items: []\n    };\n  },\n  computed:{\n    disabled(){\n      if(this.supplier && this.productID){\n        return false\n      }else{\n        return true\n      }\n    }\n  },\n  methods: {\n    // getData(itemId){\n    //   itemId='D100'\n    //   this.$store.dispatch('setItemData',itemId)\n    // },\n    getInv() {\n      this.items = []\n      const supplierDataObj = this.supplierData.filter(e=>{\n        return e.supplierId == this.supplier\n      })\n      console.log('target Supplier', this.supplier)\n      console.log('supplierFound', supplierData)\n      const supplierData = supplierDataObj[0]\n     // console.log(supplierData0, supplierData)\n      var qry = `<soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" >\n    <soap:Body>\n      <Request xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://www.promostandards.org/WSDL/InventoryService/1.0.0/\">\n        <wsVersion>`+supplierData.version +`</wsVersion>\n        <id>` +supplierData.username + `</id>\n        <password>` + supplierData.pwd + `</password>\n        <productID>` +this.productID.toUpperCase() + `</productID>\n        <productIDtype>Supplier</productIDtype>\n      </Request>\n    </soap:Body>\n  </soap:Envelope>`;\n      \n      var config = {\n        method: 'post',\n       // url: '/default/promostandardsProxy?url='+supplierData.endpoint,\n        url: 'https://2glymihrdd.execute-api.us-east-1.amazonaws.com/default/promostandardsProxy?url='+supplierData.endpoint,\n        //url: 'https://2glymihrdd.execute-api.us-east-1.amazonaws.com/default/promostandardsProxy?url='+supplierData.endpoint,\n        headers: { \n          'Content-Type': 'text/xml',\n        },\n        data : qry\n      };\n      \n      console.log('config:',config)\n      this.overlay=true\n      axios(config).then(response => {\n        console.log('RESPONSE:', JSON.stringify(response.data))\n        // this.invResponse = JSON.stringify(response.data)\n        var xml = response.data\n       // xml = xml.toString().replace(\"\\ufeff\", \"\");\n        // convert XML to JSON\n        var options = {explicitArray: false, tagNameProcessors: [xml2js.processors.stripPrefix] };\n        xml2js.parseString(xml, options,(err, result) => {\n            if(err) {\n                throw err;\n            }\n            // Get the soap body object\n            var soapBody=result.Envelope.Body.Reply;\n            console.log('BODY:', soapBody)\n            //var productID = soapBody.productID;\n           \n            var itemArray = soapBody.ProductVariationInventoryArray.ProductVariationInventory\n            console.log('itemArray', typeof itemArray, itemArray)\n            //this.invResponse = itemArray\n            console.log('length of itemArray', itemArray.length)\n            /** parse itemArray into items object **/\n            var color = ''\n            var size = ''\n            if(itemArray.length>0){\n              itemArray.forEach(element => {\n                if(element.attributeColor){color = element.attributeColor}\n                if(element.attributeSize){size = element.attributeSize}\n                this.partDesc = element.partDescription\n                this.items.push({'partID': element.partID, 'attributeColor': color, 'attributeSize': size, 'quantityAvailable': element.quantityAvailable})\n              });\n            }else{\n              if(itemArray.attributeColor){color = itemArray.attributeColor}\n              this.partDesc = itemArray.partDescription\n              this.items.push({'partID': itemArray.partID, 'attributeColor': color, 'quantityAvailable': itemArray.quantityAvailable})\n            }\n            //this.items = itemArray\n            console.log('items', this.items)\n            this.overlay=false\n            // log JSON string\n            //console.log(json);\n            //var invData = this.invResponse[0] //.Body[0]; //['ns1:ProductVariationInventoryArray'][0]['ns1:ProductVariationInventory']\n            \n           // console.log('invData', invData)\n        });\n\n      }\n      \n      )}\n      \n  },\n  \n};\n</script>\n\n<style>\n  .invTbl tr, tr{border:1px solid #666; border-collapse: collapse;}\n</style>\n"]}]}